# AI Note System

一个高度与 AI 融合的笔记系统，支持多模态内容管理和智能知识检索。

## 核心理念

- **知识可追溯**：所有回答必须基于内部知识库，无来源则不答
- **多模态支持**：网页、PDF、Markdown、图片统一处理
- **智能关联**：AI 自动建立笔记间的语义联系
- **主动整理**：上传即入库，自动索引无需手动干预

## 功能特性

### 📥 内容接入
- [x] 网页链接抓取与解析
- [x] PDF 文档 OCR 与文本提取
- [x] Markdown 文件导入
- [x] 图片 OCR 与内容理解

### 🧠 AI 处理
- [x] 自动标签与分类
- [x] 语义摘要生成
- [x] 实体识别与链接
- [x] 向量索引构建

### 🔍 知识检索
- [x] 自然语言问答
- [x] 相关笔记推荐
- [x] 知识图谱可视化
- [x] 来源追溯与引用

## 系统架构

```
┌─────────────────────────────────────────────────────────┐
│                      用户交互层                           │
│         (Web UI / CLI / API)                            │
└─────────────────────────────────────────────────────────┘
                           │
┌─────────────────────────────────────────────────────────┐
│                      内容处理层                           │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐       │
│  │ Web抓取 │ │ PDF解析 │ │ MD处理  │ │ 图片OCR │       │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘       │
└─────────────────────────────────────────────────────────┘
                           │
┌─────────────────────────────────────────────────────────┐
│                      AI 分析层                           │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐       │
│  │ 向量化  │ │ 摘要生成│ │ 实体提取│ │ 关系构建│       │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘       │
└─────────────────────────────────────────────────────────┘
                           │
┌─────────────────────────────────────────────────────────┐
│                      存储层                              │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                   │
│  │ 文档存储│ │ 向量DB  │ │ 图谱DB  │                   │
│  └─────────┘ └─────────┘ └─────────┘                   │
└─────────────────────────────────────────────────────────┘
```

## 快速开始

```bash
# 安装依赖
pip install -r requirements.txt

# 配置环境变量
cp .env.example .env
# 编辑 .env 填入你的 API 密钥

# 启动系统
python main.py
```

## 使用示例

### 上传内容
```python
from note_system import NoteSystem

system = NoteSystem()

# 上传网页
note = system.add_url("https://example.com/article")

# 上传 PDF
note = system.add_pdf("./document.pdf")

# 上传图片
note = system.add_image("./screenshot.png")
```

### 知识问答
```python
# 基于知识库回答
answer = system.ask("什么是第二大脑？")
# 返回: {
#   "answer": "第二大脑是指...",
#   "sources": ["note_id_1", "note_id_2"],
#   "confidence": 0.95
# }

# 无相关知识时的回答
answer = system.ask("明天天气怎么样？")
# 返回: {
#   "answer": "抱歉，我的知识库中没有相关信息。请自行搜集资料。",
#   "sources": [],
#   "confidence": 0
# }
```

## 项目结构

```
ai-note-system/
├── core/                   # 核心模块
│   ├── __init__.py
│   ├── content_processor.py    # 内容处理
│   ├── vector_store.py         # 向量存储
│   ├── knowledge_graph.py      # 知识图谱
│   └── query_engine.py         # 查询引擎
├── connectors/             # 数据源连接器
│   ├── __init__.py
│   ├── web_fetcher.py
│   ├── pdf_parser.py
│   ├── markdown_parser.py
│   └── image_processor.py
├── storage/                # 存储适配器
│   ├── __init__.py
│   ├── document_store.py
│   └── vector_db.py
├── api/                    # API 接口
│   ├── __init__.py
│   └── routes.py
├── ui/                     # 用户界面
│   ├── web/               # Web 界面
│   └── cli.py             # 命令行工具
├── tests/                  # 测试
├── docs/                   # 文档
├── config/                 # 配置文件
├── main.py                 # 入口文件
├── requirements.txt        # Python 依赖
└── README.md               # 项目说明
```

## 技术栈

- **Python 3.10+** - 核心语言
- **FastAPI** - Web API 框架
- **LangChain** - LLM 应用框架
- **ChromaDB / Pinecone** - 向量数据库
- **Neo4j** - 知识图谱存储
- **SQLite / PostgreSQL** - 文档元数据存储

## 开发路线

- [ ] v0.1 - 基础内容处理与存储
- [ ] v0.2 - AI 分析与向量化
- [ ] v0.3 - 知识图谱构建
- [ ] v0.4 - Web UI 与 API
- [ ] v1.0 - 完整功能发布

## 贡献

欢迎 Issue 和 PR！

## 许可证

MIT License
