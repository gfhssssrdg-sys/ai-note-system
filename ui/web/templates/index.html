{% extends "base.html" %}

{% block title %}AI Note System - é¦–é¡µ{% endblock %}

{% block content %}
<div class="hero">
    <h1>ğŸ§  AI Note System</h1>
    <p class="tagline">AI èåˆçš„ç¬”è®°ç³»ç»Ÿ - æ”¯æŒå¤šæ¨¡æ€å†…å®¹ç®¡ç†å’Œæ™ºèƒ½çŸ¥è¯†æ£€ç´¢</p>
    
    <div class="features">
        <div class="feature-card">
            <div class="feature-icon">ğŸ“¥</div>
            <h3>å¤šæ¨¡æ€è¾“å…¥</h3>
            <p>æ”¯æŒç½‘é¡µã€PDFã€Markdownã€å›¾ç‰‡ç­‰å¤šç§æ ¼å¼</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">ğŸ¤–</div>
            <h3>AI å¤„ç†</h3>
            <p>è‡ªåŠ¨åˆ†å—ã€å‘é‡åŒ–ã€å®ä½“æå–ã€LLM é—®ç­”</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">ğŸ”—</div>
            <h3>çŸ¥è¯†å›¾è°±</h3>
            <p>Neo4j å¯è§†åŒ–ç¬”è®°å…³è”ä¸å®ä½“å…³ç³»</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">ğŸ”</div>
            <h3>æ™ºèƒ½é—®ç­”</h3>
            <p>GPT-4o-mini åŸºäºçŸ¥è¯†åº“ç”Ÿæˆå›ç­”</p>
        </div>
    </div>
    
    <div class="cta-buttons">
        <a href="/upload" class="btn btn-primary">å¼€å§‹ä¸Šä¼ </a>
        <a href="/ask" class="btn btn-secondary">æé—®</a>
        <a href="/graph" class="btn btn-secondary">çŸ¥è¯†å›¾è°±</a>
    </div>
</div>

<div class="stats-section">
    <h2>ğŸ“Š ç³»ç»ŸçŠ¶æ€</h2>
    
    <div class="stats-grid" id="stats-grid">
        <div class="stat-item">
            <span class="stat-number" id="note-count">0</span>
            <span class="stat-label">ç¬”è®°æ•°é‡</span>
        </div>
        
        <div class="stat-item">
            <span class="stat-number" id="vector-count">0</span>
            <span class="stat-label">å‘é‡ç‰‡æ®µ</span>
        </div>
        
        <div class="stat-item">
            <span class="stat-number" id="entity-count">0</span>
            <span class="stat-label">çŸ¥è¯†å›¾è°±å®ä½“</span>
        </div>
        
        <div class="stat-item">
            <span class="stat-number" id="relation-count">0</span>
            <span class="stat-label">å®ä½“å…³ç³»</span>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// åŠ è½½ç»Ÿè®¡
async function loadStats() {
    try {
        const res = await fetch('/api/stats');
        const data = await res.json();
        
        document.getElementById('note-count').textContent = data.total_notes || 0;
        document.getElementById('vector-count').textContent = data.vector_count || 0;
        
        if (data.graph_stats) {
            document.getElementById('entity-count').textContent = data.graph_stats.entities || 0;
            document.getElementById('relation-count').textContent = data.graph_stats.relations || 0;
        }
    } catch (e) {
        console.error('Failed to load stats:', e);
    }
}

loadStats();
</script>
{% endblock %}
